!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("d3Layout",[],n):"object"==typeof exports?exports.d3Layout=n():t.d3Layout=n()}("undefined"!=typeof self?self:this,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t,n,e){t.exports=function(){return e(1)('!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);function r(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,s,l,f,h,c,v=t._root,y={data:r},p=t._x0,_=t._y0,x=t._x1,d=t._y1;if(!v)return t._root=y,t;for(;v.length;)if((l=n>=(o=(p+x)/2))?p=o:x=o,(f=e>=(u=(_+d)/2))?_=u:d=u,i=v,!(v=v[h=f<<1|l]))return i[h]=y,t;if(a=+t._x.call(null,v.data),s=+t._y.call(null,v.data),n===a&&e===s)return y.next=v,i?i[h]=y:t._root=y,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=n>=(o=(p+x)/2))?p=o:x=o,(f=e>=(u=(_+d)/2))?_=u:d=u}while((h=f<<1|l)==(c=(s>=u)<<1|a>=o));return i[c]=v,i[h]=y,t}var i=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function o(t){return t[0]}function u(t){return t[1]}function a(t,n,e){var r=new s(null==n?o:n,null==e?u:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function s(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function l(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var f=a.prototype=s.prototype;f.copy=function(){var t,n,e=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=l(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=l(n));return e},f.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return r(this.cover(n,e),n,e,t)},f.addAll=function(t){var n,e,i,o,u=t.length,a=new Array(u),s=new Array(u),l=1/0,f=1/0,h=-1/0,c=-1/0;for(e=0;e<u;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(a[e]=i,s[e]=o,i<l&&(l=i),i>h&&(h=i),o<f&&(f=o),o>c&&(c=o));if(l>h||f>c)return this;for(this.cover(l,f).cover(h,c),e=0;e<u;++e)r(this,a[e],s[e],t[e]);return this},f.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u,a,s=i-e,l=this._root;e>t||t>=i||r>n||n>=o;)switch(a=(n<r)<<1|t<e,(u=new Array(4))[a]=l,l=u,s*=2,a){case 0:i=e+s,o=r+s;break;case 1:e=i-s,o=r+s;break;case 2:i=e+s,r=o-s;break;case 3:e=i-s,r=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},f.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},f.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},f.find=function(t,n,e){var r,o,u,a,s,l,f,h=this._x0,c=this._y0,v=this._x1,y=this._y1,p=[],_=this._root;for(_&&p.push(new i(_,h,c,v,y)),null==e?e=1/0:(h=t-e,c=n-e,v=t+e,y=n+e,e*=e);l=p.pop();)if(!(!(_=l.node)||(o=l.x0)>v||(u=l.y0)>y||(a=l.x1)<h||(s=l.y1)<c))if(_.length){var x=(o+a)/2,d=(u+s)/2;p.push(new i(_[3],x,d,a,s),new i(_[2],o,d,x,s),new i(_[1],x,u,a,d),new i(_[0],o,u,x,d)),(f=(n>=d)<<1|t>=x)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-f],p[p.length-1-f]=l)}else{var g=t-+this._x.call(null,_.data),w=n-+this._y.call(null,_.data),m=g*g+w*w;if(m<e){var N=Math.sqrt(e=m);h=t-N,c=n-N,v=t+N,y=n+N,r=_.data}}return r},f.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,s,l,f,h,c,v=this._root,y=this._x0,p=this._y0,_=this._x1,x=this._y1;if(!v)return this;if(v.length)for(;;){if((l=o>=(a=(y+_)/2))?y=a:_=a,(f=u>=(s=(p+x)/2))?p=s:x=s,n=v,!(v=v[h=f<<1|l]))return this;if(!v.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(e=n,c=h)}for(;v.data!==t;)if(r=v,!(v=v.next))return this;return(i=v.next)&&delete v.next,r?(i?r.next=i:delete r.next,this):n?(i?n[h]=i:delete n[h],(v=n[0]||n[1]||n[2]||n[3])&&v===(n[3]||n[2]||n[1]||n[0])&&!v.length&&(e?e[c]=v:this._root=v),this):(this._root=i,this)},f.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},f.root=function(){return this._root},f.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},f.visit=function(t){var n,e,r,o,u,a,s=[],l=this._root;for(l&&s.push(new i(l,this._x0,this._y0,this._x1,this._y1));n=s.pop();)if(!t(l=n.node,r=n.x0,o=n.y0,u=n.x1,a=n.y1)&&l.length){var f=(r+u)/2,h=(o+a)/2;(e=l[3])&&s.push(new i(e,f,h,u,a)),(e=l[2])&&s.push(new i(e,r,h,f,a)),(e=l[1])&&s.push(new i(e,f,o,u,h)),(e=l[0])&&s.push(new i(e,r,o,f,h))}return this},f.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var o=n.node;if(o.length){var u,a=n.x0,s=n.y0,l=n.x1,f=n.y1,h=(a+l)/2,c=(s+f)/2;(u=o[0])&&e.push(new i(u,a,s,h,c)),(u=o[1])&&e.push(new i(u,h,s,l,c)),(u=o[2])&&e.push(new i(u,a,c,h,f)),(u=o[3])&&e.push(new i(u,h,c,l,f))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},f.x=function(t){return arguments.length?(this._x=t,this):this._x},f.y=function(t){return arguments.length?(this._y=t,this):this._y};var h=function(t){return function(){return t}},c=function(){return 1e-6*(Math.random()-.5)};function v(t){return t.x+t.vx}function y(t){return t.y+t.vy}function p(t){return t.index}function _(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var x={value:function(){}};function d(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new g(r)}function g(t){this._=t}function w(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function m(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=x,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}g.prototype=d.prototype={constructor:g,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),u=-1,a=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<a;)if(e=(t=o[u]).type)i[e]=m(i[e],t.name,n);else if(null==n)for(e in i)i[e]=m(i[e],t.name,null);return this}for(;++u<a;)if((e=(t=o[u]).type)&&(e=w(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new g(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var N,M,b=d,k=0,A=0,E=0,j=1e3,O=0,q=0,P=0,z="object"==typeof performance&&performance.now?performance:Date,T="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function D(){return q||(T(S),q=z.now()+P)}function S(){q=0}function L(){this._call=this._time=this._next=null}function I(t,n,e){var r=new L;return r.restart(t,n,e),r}function F(){q=(O=z.now())+P,k=A=0;try{!function(){D(),++k;for(var t,n=N;n;)(t=q-n._time)>=0&&n._call.call(null,t),n=n._next;--k}()}finally{k=0,function(){var t,n,e=N,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:N=n);M=t,C(r)}(),q=0}}function B(){var t=z.now(),n=t-O;n>j&&(P-=n,O=t)}function C(t){k||(A&&(A=clearTimeout(A)),t-q>24?(t<1/0&&(A=setTimeout(F,t-z.now()-P)),E&&(E=clearInterval(E))):(E||(O=z.now(),E=setInterval(B,j)),k=1,T(F)))}L.prototype=I.prototype={constructor:L,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?D():+e)+(null==n?0:+n),this._next||M===this||(M?M._next=this:N=this,M=this),this._call=t,this._time=e,C()},stop:function(){this._call&&(this._call=null,this._time=1/0,C())}};function G(t){return t.x}function H(t){return t.y}var J=10,K=Math.PI*(3-Math.sqrt(5)),Q=function(){function t(){this.events={}}return t.prototype.on=function(t,n){var e=this;return"object"!=typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(n),function(){return e.removeListener(t,n)}},t.prototype.removeListener=function(t,n){if("object"==typeof this.events[t]){var e=this.events[t].indexOf(n);e>-1&&this.events[t].splice(e,1)}},t.prototype.removeAllListeners=function(){var t=this;Object.keys(this.events).forEach(function(n){return t.events[n].splice(0,t.events[n].length)})},t.prototype.emit=function(t){for(var n=this,e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];"object"==typeof this.events[t]&&this.events[t].slice().forEach(function(t){return t.apply(n,e)})},t.prototype.once=function(t,n){var e=this,r=this.on(t,function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];r(),n.apply(e,t)});return r},t}(),R=function(){function t(){this.onEvent=new Q,this._nodes=[],this._links=[],this._options={}}return t.prototype.init=function(t){this._nodes=t.nodes,this._links=t.links,this._options=t.layoutOptions,this._simulation=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,u=.6,a=new Map,s=I(f),l=b("tick","end");function f(){h(),l.call("tick",n),e<r&&(s.stop(),l.call("end",n))}function h(r){var s,l,f=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(e+=(o-e)*i,a.forEach(function(t){t(e)}),s=0;s<f;++s)null==(l=t[s]).fx?l.x+=l.vx*=u:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=u:(l.y=l.fy,l.vy=0);return n}function c(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=J*Math.sqrt(e),o=e*K;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function v(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),c(),n={tick:h,restart:function(){return s.restart(f),n},stop:function(){return s.stop(),n},nodes:function(e){return arguments.length?(t=e,c(),a.forEach(v),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(u=1-t,n):1-u},force:function(t,e){return arguments.length>1?(null==e?a.delete(t):a.set(t,v(e)),n):a.get(t)},find:function(n,e,r){var i,o,u,a,s,l=0,f=t.length;for(null==r?r=1/0:r*=r,l=0;l<f;++l)(u=(i=n-(a=t[l]).x)*i+(o=e-a.y)*o)<r&&(s=a,r=u);return s},on:function(t,e){return arguments.length>1?(l.on(t,e),n):l.on(t)}}}(this._nodes).force("charge",function(){var t,n,e,r,i=h(-30),o=1,u=1/0,s=.81;function l(r){var i,o=t.length,u=a(t,G,H).visitAfter(v);for(e=r,i=0;i<o;++i)n=t[i],u.visit(y)}function f(){if(t){var n,e,o=t.length;for(r=new Array(o),n=0;n<o;++n)e=t[n],r[e.index]=+i(e,n,t)}}function v(t){var n,e,i,o,u,a=0,s=0;if(t.length){for(i=o=u=0;u<4;++u)(n=t[u])&&(e=Math.abs(n.value))&&(a+=n.value,s+=e,i+=e*n.x,o+=e*n.y);t.x=i/s,t.y=o/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{a+=r[n.data.index]}while(n=n.next)}t.value=a}function y(t,i,a,l){if(!t.value)return!0;var f=t.x-n.x,h=t.y-n.y,v=l-i,y=f*f+h*h;if(v*v/s<y)return y<u&&(0===f&&(y+=(f=c())*f),0===h&&(y+=(h=c())*h),y<o&&(y=Math.sqrt(o*y)),n.vx+=f*t.value*e/y,n.vy+=h*t.value*e/y),!0;if(!(t.length||y>=u)){(t.data!==n||t.next)&&(0===f&&(y+=(f=c())*f),0===h&&(y+=(h=c())*h),y<o&&(y=Math.sqrt(o*y)));do{t.data!==n&&(v=r[t.data.index]*e/y,n.vx+=f*v,n.vy+=h*v)}while(t=t.next)}}return l.initialize=function(n){t=n,f()},l.strength=function(t){return arguments.length?(i="function"==typeof t?t:h(+t),f(),l):i},l.distanceMin=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.distanceMax=function(t){return arguments.length?(u=t*t,l):Math.sqrt(u)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l}().strength(this._options.mainBodyStrength)).force("link",function(t){var n,e,r,i,o,u=p,a=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=h(30),l=1;function f(r){for(var i=0,u=t.length;i<l;++i)for(var a,s,f,h,v,y,p,_=0;_<u;++_)s=(a=t[_]).source,h=(f=a.target).x+f.vx-s.x-s.vx||c(),v=f.y+f.vy-s.y-s.vy||c(),h*=y=((y=Math.sqrt(h*h+v*v))-e[_])/y*r*n[_],v*=y,f.vx-=h*(p=o[_]),f.vy-=v*p,s.vx+=h*(p=1-p),s.vy+=v*p}function v(){if(r){var a,s,l=r.length,f=t.length,h=new Map(r.map((t,n)=>[u(t,n,r),t]));for(a=0,i=new Array(l);a<f;++a)(s=t[a]).index=a,"object"!=typeof s.source&&(s.source=_(h,s.source)),"object"!=typeof s.target&&(s.target=_(h,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(a=0,o=new Array(f);a<f;++a)s=t[a],o[a]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(f),y(),e=new Array(f),x()}}function y(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+a(t[e],e,t)}function x(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t){r=t,v()},f.links=function(n){return arguments.length?(t=n,v(),f):t},f.id=function(t){return arguments.length?(u=t,f):u},f.iterations=function(t){return arguments.length?(l=+t,f):l},f.strength=function(t){return arguments.length?(a="function"==typeof t?t:h(+t),y(),f):a},f.distance=function(t){return arguments.length?(s="function"==typeof t?t:h(+t),x(),f):s},f}(this._links).id(function(t){return t.id}).distance(this._options.linkDistance)).force("center",function(t,n){var e;function r(){var r,i,o=e.length,u=0,a=0;for(r=0;r<o;++r)u+=(i=e[r]).x,a+=i.y;for(u=u/o-t,a=a/o-n,r=0;r<o;++r)(i=e[r]).x-=u,i.y-=a}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r}()).force("collision",function(t){var n,e,r=1,i=1;function o(){for(var t,o,s,l,f,h,p,_=n.length,x=0;x<i;++x)for(o=a(n,v,y).visitAfter(u),t=0;t<_;++t)s=n[t],h=e[s.index],p=h*h,l=s.x+s.vx,f=s.y+s.vy,o.visit(d);function d(t,n,e,i,o){var u=t.data,a=t.r,v=h+a;if(!u)return n>l+v||i<l-v||e>f+v||o<f-v;if(u.index>s.index){var y=l-u.x-u.vx,_=f-u.y-u.vy,x=y*y+_*_;x<v*v&&(0===y&&(x+=(y=c())*y),0===_&&(x+=(_=c())*_),x=(v-(x=Math.sqrt(x)))/x*r,s.vx+=(y*=x)*(v=(a*=a)/(p+a)),s.vy+=(_*=x)*v,u.vx-=y*(v=1-v),u.vy-=_*v)}}}function u(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function s(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=h(null==t?1:+t)),o.initialize=function(t){n=t,s()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:h(+n),s(),o):t},o}().radius(function(t){return t.size}).iterations(2)).velocityDecay(.08).stop()},t.prototype.calculate=function(){for(var t=0,n=Math.ceil(Math.log(this._simulation.alphaMin())/Math.log(1-this._simulation.alphaDecay()));t<n;++t)this.onEvent.emit("tick",t/n),this._simulation.tick();this.onEvent.emit("end",{nodes:this._nodes,links:this._links})},t.prototype.destroy=function(){this._simulation.stop(),this._simulation=null,this._links=[],this._nodes=[]},t}(),U=self,V=null;U.addEventListener("message",function(t){var n=t.data;switch(n.name){case"init":(V=new R).onEvent.on("tick",function(t){U.postMessage({type:"tick",progress:t})}),V.onEvent.on("end",function(t){U.postMessage({type:"end",d:t})}),V.init(n);break;case"calculate":V&&V.calculate();break;case"destroy":V&&(V.onEvent.removeAllListeners(),V.destroy()),V=null}});n.default=null}]);',null)}},function(t,n,e){"use strict";var r=window.URL||window.webkitURL;t.exports=function(t,n){try{try{var e;try{(e=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),e=e.getBlob()}catch(n){e=new Blob([t])}return new Worker(r.createObjectURL(e))}catch(n){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!n)throw Error("Inline worker is not supported");return new Worker(n)}}},function(t,n,e){"use strict";e.r(n);var r=e(0),i=e.n(r),o=function(){function t(){this.events={}}return t.prototype.on=function(t,n){var e=this;return"object"!=typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(n),function(){return e.removeListener(t,n)}},t.prototype.removeListener=function(t,n){if("object"==typeof this.events[t]){var e=this.events[t].indexOf(n);e>-1&&this.events[t].splice(e,1)}},t.prototype.removeAllListeners=function(){var t=this;Object.keys(this.events).forEach(function(n){return t.events[n].splice(0,t.events[n].length)})},t.prototype.emit=function(t){for(var n=this,e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];"object"==typeof this.events[t]&&this.events[t].slice().forEach(function(t){return t.apply(n,e)})},t.prototype.once=function(t,n){var e=this,r=this.on(t,function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];r(),n.apply(e,t)});return r},t}();function s(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,s,u,a,l,f,h,c,v=t._root,y={data:r},p=t._x0,_=t._y0,x=t._x1,d=t._y1;if(!v)return t._root=y,t;for(;v.length;)if((l=n>=(o=(p+x)/2))?p=o:x=o,(f=e>=(s=(_+d)/2))?_=s:d=s,i=v,!(v=v[h=f<<1|l]))return i[h]=y,t;if(u=+t._x.call(null,v.data),a=+t._y.call(null,v.data),n===u&&e===a)return y.next=v,i?i[h]=y:t._root=y,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=n>=(o=(p+x)/2))?p=o:x=o,(f=e>=(s=(_+d)/2))?_=s:d=s}while((h=f<<1|l)==(c=(a>=s)<<1|u>=o));return i[c]=v,i[h]=y,t}var u=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function a(t){return t[0]}function l(t){return t[1]}function f(t,n,e){var r=new h(null==n?a:n,null==e?l:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function h(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function c(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var v=f.prototype=h.prototype;v.copy=function(){var t,n,e=new h(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=c(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=c(n));return e},v.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return s(this.cover(n,e),n,e,t)},v.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),l=1/0,f=1/0,h=-1/0,c=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<l&&(l=r),r>h&&(h=r),i<f&&(f=i),i>c&&(c=i));if(l>h||f>c)return this;for(this.cover(l,f).cover(h,c),e=0;e<o;++e)s(this,u[e],a[e],t[e]);return this},v.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var s,u,a=i-e,l=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(s=new Array(4))[u]=l,l=s,a*=2,u){case 0:i=e+a,o=r+a;break;case 1:e=i-a,o=r+a;break;case 2:i=e+a,r=o-a;break;case 3:e=i-a,r=o-a}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},v.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},v.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},v.find=function(t,n,e){var r,i,o,s,a,l,f,h=this._x0,c=this._y0,v=this._x1,y=this._y1,p=[],_=this._root;for(_&&p.push(new u(_,h,c,v,y)),null==e?e=1/0:(h=t-e,c=n-e,v=t+e,y=n+e,e*=e);l=p.pop();)if(!(!(_=l.node)||(i=l.x0)>v||(o=l.y0)>y||(s=l.x1)<h||(a=l.y1)<c))if(_.length){var x=(i+s)/2,d=(o+a)/2;p.push(new u(_[3],x,d,s,a),new u(_[2],i,d,x,a),new u(_[1],x,o,s,d),new u(_[0],i,o,x,d)),(f=(n>=d)<<1|t>=x)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-f],p[p.length-1-f]=l)}else{var g=t-+this._x.call(null,_.data),w=n-+this._y.call(null,_.data),m=g*g+w*w;if(m<e){var k=Math.sqrt(e=m);h=t-k,c=n-k,v=t+k,y=n+k,r=_.data}}return r},v.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var n,e,r,i,o,s,u,a,l,f,h,c,v=this._root,y=this._x0,p=this._y0,_=this._x1,x=this._y1;if(!v)return this;if(v.length)for(;;){if((l=o>=(u=(y+_)/2))?y=u:_=u,(f=s>=(a=(p+x)/2))?p=a:x=a,n=v,!(v=v[h=f<<1|l]))return this;if(!v.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(e=n,c=h)}for(;v.data!==t;)if(r=v,!(v=v.next))return this;return(i=v.next)&&delete v.next,r?(i?r.next=i:delete r.next,this):n?(i?n[h]=i:delete n[h],(v=n[0]||n[1]||n[2]||n[3])&&v===(n[3]||n[2]||n[1]||n[0])&&!v.length&&(e?e[c]=v:this._root=v),this):(this._root=i,this)},v.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},v.root=function(){return this._root},v.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},v.visit=function(t){var n,e,r,i,o,s,a=[],l=this._root;for(l&&a.push(new u(l,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(l=n.node,r=n.x0,i=n.y0,o=n.x1,s=n.y1)&&l.length){var f=(r+o)/2,h=(i+s)/2;(e=l[3])&&a.push(new u(e,f,h,o,s)),(e=l[2])&&a.push(new u(e,r,h,f,s)),(e=l[1])&&a.push(new u(e,f,i,o,h)),(e=l[0])&&a.push(new u(e,r,i,f,h))}return this},v.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new u(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,s=n.x0,a=n.y0,l=n.x1,f=n.y1,h=(s+l)/2,c=(a+f)/2;(o=i[0])&&e.push(new u(o,s,a,h,c)),(o=i[1])&&e.push(new u(o,h,a,l,c)),(o=i[2])&&e.push(new u(o,s,c,h,f)),(o=i[3])&&e.push(new u(o,h,c,l,f))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},v.x=function(t){return arguments.length?(this._x=t,this):this._x},v.y=function(t){return arguments.length?(this._y=t,this):this._y};var y=function(t){return function(){return t}},p=function(){return 1e-6*(Math.random()-.5)};function _(t){return t.x+t.vx}function x(t){return t.y+t.vy}function d(t){return t.index}function g(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var w={value:function(){}};function m(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new k(r)}function k(t){this._=t}function N(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function b(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=w,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}k.prototype=m.prototype={constructor:k,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),s=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++s<u;)if(e=(t=o[s]).type)i[e]=b(i[e],t.name,n);else if(null==n)for(e in i)i[e]=b(i[e],t.name,null);return this}for(;++s<u;)if((e=(t=o[s]).type)&&(e=N(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new k(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var M,A,E=m,O=0,j=0,q=0,P=1e3,z=0,L=0,D=0,T="object"==typeof performance&&performance.now?performance:Date,S="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function B(){return L||(S(I),L=T.now()+D)}function I(){L=0}function V(){this._call=this._time=this._next=null}function W(t,n,e){var r=new V;return r.restart(t,n,e),r}function U(){L=(z=T.now())+D,O=j=0;try{!function(){B(),++O;for(var t,n=M;n;)(t=L-n._time)>=0&&n._call.call(null,t),n=n._next;--O}()}finally{O=0,function(){var t,n,e=M,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:M=n);A=t,R(r)}(),L=0}}function F(){var t=T.now(),n=t-z;n>P&&(D-=n,z=t)}function R(t){O||(j&&(j=clearTimeout(j)),t-L>24?(t<1/0&&(j=setTimeout(U,t-T.now()-D)),q&&(q=clearInterval(q))):(q||(z=T.now(),q=setInterval(F,P)),O=1,S(U)))}V.prototype=W.prototype={constructor:V,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?B():+e)+(null==n?0:+n),this._next||A===this||(A?A._next=this:M=this,A=this),this._call=t,this._time=e,R()},stop:function(){this._call&&(this._call=null,this._time=1/0,R())}};function C(t){return t.x}function K(t){return t.y}var G=10,H=Math.PI*(3-Math.sqrt(5)),J=function(){function t(){this.onEvent=new o,this._nodes=[],this._links=[],this._options={}}return t.prototype.init=function(t){this._nodes=t.nodes,this._links=t.links,this._options=t.layoutOptions,this._simulation=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,u=new Map,a=W(f),l=E("tick","end");function f(){h(),l.call("tick",n),e<r&&(a.stop(),l.call("end",n))}function h(r){var a,l,f=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(e+=(o-e)*i,u.forEach(function(t){t(e)}),a=0;a<f;++a)null==(l=t[a]).fx?l.x+=l.vx*=s:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=s:(l.y=l.fy,l.vy=0);return n}function c(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=G*Math.sqrt(e),o=e*H;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function v(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),c(),n={tick:h,restart:function(){return a.restart(f),n},stop:function(){return a.stop(),n},nodes:function(e){return arguments.length?(t=e,c(),u.forEach(v),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(s=1-t,n):1-s},force:function(t,e){return arguments.length>1?(null==e?u.delete(t):u.set(t,v(e)),n):u.get(t)},find:function(n,e,r){var i,o,s,u,a,l=0,f=t.length;for(null==r?r=1/0:r*=r,l=0;l<f;++l)(s=(i=n-(u=t[l]).x)*i+(o=e-u.y)*o)<r&&(a=u,r=s);return a},on:function(t,e){return arguments.length>1?(l.on(t,e),n):l.on(t)}}}(this._nodes).force("charge",function(){var t,n,e,r,i=y(-30),o=1,s=1/0,u=.81;function a(r){var i,o=t.length,s=f(t,C,K).visitAfter(h);for(e=r,i=0;i<o;++i)n=t[i],s.visit(c)}function l(){if(t){var n,e,o=t.length;for(r=new Array(o),n=0;n<o;++n)e=t[n],r[e.index]=+i(e,n,t)}}function h(t){var n,e,i,o,s,u=0,a=0;if(t.length){for(i=o=s=0;s<4;++s)(n=t[s])&&(e=Math.abs(n.value))&&(u+=n.value,a+=e,i+=e*n.x,o+=e*n.y);t.x=i/a,t.y=o/a}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=r[n.data.index]}while(n=n.next)}t.value=u}function c(t,i,a,l){if(!t.value)return!0;var f=t.x-n.x,h=t.y-n.y,c=l-i,v=f*f+h*h;if(c*c/u<v)return v<s&&(0===f&&(v+=(f=p())*f),0===h&&(v+=(h=p())*h),v<o&&(v=Math.sqrt(o*v)),n.vx+=f*t.value*e/v,n.vy+=h*t.value*e/v),!0;if(!(t.length||v>=s)){(t.data!==n||t.next)&&(0===f&&(v+=(f=p())*f),0===h&&(v+=(h=p())*h),v<o&&(v=Math.sqrt(o*v)));do{t.data!==n&&(c=r[t.data.index]*e/v,n.vx+=f*c,n.vy+=h*c)}while(t=t.next)}}return a.initialize=function(n){t=n,l()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:y(+t),l(),a):i},a.distanceMin=function(t){return arguments.length?(o=t*t,a):Math.sqrt(o)},a.distanceMax=function(t){return arguments.length?(s=t*t,a):Math.sqrt(s)},a.theta=function(t){return arguments.length?(u=t*t,a):Math.sqrt(u)},a}().strength(this._options.mainBodyStrength)).force("link",function(t){var n,e,r,i,o,s=d,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},a=y(30),l=1;function f(r){for(var i=0,s=t.length;i<l;++i)for(var u,a,f,h,c,v,y,_=0;_<s;++_)a=(u=t[_]).source,h=(f=u.target).x+f.vx-a.x-a.vx||p(),c=f.y+f.vy-a.y-a.vy||p(),h*=v=((v=Math.sqrt(h*h+c*c))-e[_])/v*r*n[_],c*=v,f.vx-=h*(y=o[_]),f.vy-=c*y,a.vx+=h*(y=1-y),a.vy+=c*y}function h(){if(r){var u,a,l=r.length,f=t.length,h=new Map(r.map((t,n)=>[s(t,n,r),t]));for(u=0,i=new Array(l);u<f;++u)(a=t[u]).index=u,"object"!=typeof a.source&&(a.source=g(h,a.source)),"object"!=typeof a.target&&(a.target=g(h,a.target)),i[a.source.index]=(i[a.source.index]||0)+1,i[a.target.index]=(i[a.target.index]||0)+1;for(u=0,o=new Array(f);u<f;++u)a=t[u],o[u]=i[a.source.index]/(i[a.source.index]+i[a.target.index]);n=new Array(f),c(),e=new Array(f),v()}}function c(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}function v(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+a(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t){r=t,h()},f.links=function(n){return arguments.length?(t=n,h(),f):t},f.id=function(t){return arguments.length?(s=t,f):s},f.iterations=function(t){return arguments.length?(l=+t,f):l},f.strength=function(t){return arguments.length?(u="function"==typeof t?t:y(+t),c(),f):u},f.distance=function(t){return arguments.length?(a="function"==typeof t?t:y(+t),v(),f):a},f}(this._links).id(function(t){return t.id}).distance(this._options.linkDistance)).force("center",function(t,n){var e;function r(){var r,i,o=e.length,s=0,u=0;for(r=0;r<o;++r)s+=(i=e[r]).x,u+=i.y;for(s=s/o-t,u=u/o-n,r=0;r<o;++r)(i=e[r]).x-=s,i.y-=u}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r}()).force("collision",function(t){var n,e,r=1,i=1;function o(){for(var t,o,u,a,l,h,c,v=n.length,y=0;y<i;++y)for(o=f(n,_,x).visitAfter(s),t=0;t<v;++t)u=n[t],h=e[u.index],c=h*h,a=u.x+u.vx,l=u.y+u.vy,o.visit(d);function d(t,n,e,i,o){var s=t.data,f=t.r,v=h+f;if(!s)return n>a+v||i<a-v||e>l+v||o<l-v;if(s.index>u.index){var y=a-s.x-s.vx,_=l-s.y-s.vy,x=y*y+_*_;x<v*v&&(0===y&&(x+=(y=p())*y),0===_&&(x+=(_=p())*_),x=(v-(x=Math.sqrt(x)))/x*r,u.vx+=(y*=x)*(v=(f*=f)/(c+f)),u.vy+=(_*=x)*v,s.vx-=y*(v=1-v),s.vy-=_*v)}}}function s(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function u(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=y(null==t?1:+t)),o.initialize=function(t){n=t,u()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:y(+n),u(),o):t},o}().radius(function(t){return t.size}).iterations(2)).velocityDecay(.08).stop()},t.prototype.calculate=function(){for(var t=0,n=Math.ceil(Math.log(this._simulation.alphaMin())/Math.log(1-this._simulation.alphaDecay()));t<n;++t)this.onEvent.emit("tick",t/n),this._simulation.tick();this.onEvent.emit("end",{nodes:this._nodes,links:this._links})},t.prototype.destroy=function(){this._simulation.stop(),this._simulation=null,this._links=[],this._nodes=[]},t}(),Q={layoutOptions:{linkDistance:300,mainBodyStrength:-1e3},useWebworker:!0},X=function(){return(X=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},Y=function(){function t(t){this.onEvent=new o,this._options=X({},Q,t),this._options.useWorker?this._worker=new i.a:this._layout=new J}return t.prototype.init=function(t){var n=this;this._options.useWorker&&this._worker?(this._worker.postMessage({height:t.height||0,layoutOptions:this._options.layoutOptions,links:t.links||[],name:"init",nodes:t.nodes||[],width:t.width||0}),this._worker.onmessage=function(t){switch(t.data.type){case"tick":n.onEvent.emit("tick",t.data.progress);break;case"end":n.onEvent.emit("end",t.data.d)}}):this._layout&&(this._layout.init({height:t.height||0,layoutOptions:this._options.layoutOptions,links:t.links||[],nodes:t.nodes||[],width:t.width||0}),this._layout.onEvent.on("tick",function(t){n.onEvent.emit("tick",t)}),this._layout.onEvent.on("end",function(t){n.onEvent.emit("end",t)}))},t.prototype.calculate=function(){this._options.useWorker&&this._worker?this._worker.postMessage({name:"calculate"}):this._layout&&this._layout.calculate()},t.prototype.destroy=function(){this._options.useWorker&&this._worker?(this._worker.postMessage({name:"destroy"}),this._worker.terminate(),this._worker=null):(this._layout&&(this._layout.onEvent.removeAllListeners(),this._layout.destroy()),this._layout=null)},t}();e.d(n,"D3Layout",function(){return Y})}])});