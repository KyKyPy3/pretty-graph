!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("d3Layout",[],n):"object"==typeof exports?exports.d3Layout=n():t.d3Layout=n()}("undefined"!=typeof self?self:this,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t,n,e){t.exports=function(){return e(1)('!function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);function i(t,n,e,i){if(isNaN(n)||isNaN(e))return t;var r,o,a,s,u,l,f,h,c,v=t._root,y={data:i},p=t._x0,_=t._y0,d=t._x1,x=t._y1;if(!v)return t._root=y,t;for(;v.length;)if((l=n>=(o=(p+d)/2))?p=o:d=o,(f=e>=(a=(_+x)/2))?_=a:x=a,r=v,!(v=v[h=f<<1|l]))return r[h]=y,t;if(s=+t._x.call(null,v.data),u=+t._y.call(null,v.data),n===s&&e===u)return y.next=v,r?r[h]=y:t._root=y,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(l=n>=(o=(p+d)/2))?p=o:d=o,(f=e>=(a=(_+x)/2))?_=a:x=a}while((h=f<<1|l)==(c=(u>=a)<<1|s>=o));return r[c]=v,r[h]=y,t}var r=function(t,n,e,i,r){this.node=t,this.x0=n,this.y0=e,this.x1=i,this.y1=r};function o(t){return t[0]}function a(t){return t[1]}function s(t,n,e){var i=new u(null==n?o:n,null==e?a:e,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function u(t,n,e,i,r,o){this._x=t,this._y=n,this._x0=e,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function l(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var f=s.prototype=u.prototype;f.copy=function(){var t,n,e=new u(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return e;if(!i.length)return e._root=l(i),e;for(t=[{source:i,target:e._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(n=i.source[r])&&(n.length?t.push({source:n,target:i.target[r]=new Array(4)}):i.target[r]=l(n));return e},f.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return i(this.cover(n,e),n,e,t)},f.addAll=function(t){var n,e,r,o,a=t.length,s=new Array(a),u=new Array(a),l=1/0,f=1/0,h=-1/0,c=-1/0;for(e=0;e<a;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(s[e]=r,u[e]=o,r<l&&(l=r),r>h&&(h=r),o<f&&(f=o),o>c&&(c=o));if(l>h||f>c)return this;for(this.cover(l,f).cover(h,c),e=0;e<a;++e)i(this,s[e],u[e],t[e]);return this},f.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(e))r=(e=Math.floor(t))+1,o=(i=Math.floor(n))+1;else{for(var a,s,u=r-e,l=this._root;e>t||t>=r||i>n||n>=o;)switch(s=(n<i)<<1|t<e,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:r=e+u,o=i+u;break;case 1:e=r-u,o=i+u;break;case 2:r=e+u,i=o-u;break;case 3:e=r-u,i=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=i,this._x1=r,this._y1=o,this},f.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},f.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},f.find=function(t,n,e){var i,o,a,s,u,l,f,h=this._x0,c=this._y0,v=this._x1,y=this._y1,p=[],_=this._root;for(_&&p.push(new r(_,h,c,v,y)),null==e?e=1/0:(h=t-e,c=n-e,v=t+e,y=n+e,e*=e);l=p.pop();)if(!(!(_=l.node)||(o=l.x0)>v||(a=l.y0)>y||(s=l.x1)<h||(u=l.y1)<c))if(_.length){var d=(o+s)/2,x=(a+u)/2;p.push(new r(_[3],d,x,s,u),new r(_[2],o,x,d,u),new r(_[1],d,a,s,x),new r(_[0],o,a,d,x)),(f=(n>=x)<<1|t>=d)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-f],p[p.length-1-f]=l)}else{var g=t-+this._x.call(null,_.data),w=n-+this._y.call(null,_.data),m=g*g+w*w;if(m<e){var M=Math.sqrt(e=m);h=t-M,c=n-M,v=t+M,y=n+M,i=_.data}}return i},f.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,i,r,o,a,s,u,l,f,h,c,v=this._root,y=this._x0,p=this._y0,_=this._x1,d=this._y1;if(!v)return this;if(v.length)for(;;){if((l=o>=(s=(y+_)/2))?y=s:_=s,(f=a>=(u=(p+d)/2))?p=u:d=u,n=v,!(v=v[h=f<<1|l]))return this;if(!v.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(e=n,c=h)}for(;v.data!==t;)if(i=v,!(v=v.next))return this;return(r=v.next)&&delete v.next,i?(r?i.next=r:delete i.next,this):n?(r?n[h]=r:delete n[h],(v=n[0]||n[1]||n[2]||n[3])&&v===(n[3]||n[2]||n[1]||n[0])&&!v.length&&(e?e[c]=v:this._root=v),this):(this._root=r,this)},f.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},f.root=function(){return this._root},f.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},f.visit=function(t){var n,e,i,o,a,s,u=[],l=this._root;for(l&&u.push(new r(l,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(l=n.node,i=n.x0,o=n.y0,a=n.x1,s=n.y1)&&l.length){var f=(i+a)/2,h=(o+s)/2;(e=l[3])&&u.push(new r(e,f,h,a,s)),(e=l[2])&&u.push(new r(e,i,h,f,s)),(e=l[1])&&u.push(new r(e,f,o,a,h)),(e=l[0])&&u.push(new r(e,i,o,f,h))}return this},f.visitAfter=function(t){var n,e=[],i=[];for(this._root&&e.push(new r(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var o=n.node;if(o.length){var a,s=n.x0,u=n.y0,l=n.x1,f=n.y1,h=(s+l)/2,c=(u+f)/2;(a=o[0])&&e.push(new r(a,s,u,h,c)),(a=o[1])&&e.push(new r(a,h,u,l,c)),(a=o[2])&&e.push(new r(a,s,c,h,f)),(a=o[3])&&e.push(new r(a,h,c,l,f))}i.push(n)}for(;n=i.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},f.x=function(t){return arguments.length?(this._x=t,this):this._x},f.y=function(t){return arguments.length?(this._y=t,this):this._y};var h=function(t){return function(){return t}},c=function(){return 1e-6*(Math.random()-.5)};function v(t){return t.x+t.vx}function y(t){return t.y+t.vy}function p(t){return t.index}function _(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var d={value:function(){}};function x(){for(var t,n=0,e=arguments.length,i={};n<e;++n){if(!(t=arguments[n]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new g(i)}function g(t){this._=t}function w(t,n){for(var e,i=0,r=t.length;i<r;++i)if((e=t[i]).name===n)return e.value}function m(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=d,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}g.prototype=x.prototype={constructor:g,on:function(t,n){var e,i,r=this._,o=(i=r,(t+"").trim().split(/^|\\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<s;)if(e=(t=o[a]).type)r[e]=m(r[e],t.name,n);else if(null==n)for(e in r)r[e]=m(r[e],t.name,null);return this}for(;++a<s;)if((e=(t=o[a]).type)&&(e=w(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new g(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,i,r=new Array(e),o=0;o<e;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(i=this._[t]).length;o<e;++o)i[o].value.apply(n,r)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};var M,N,b=x,k=0,A=0,E=0,j=1e3,O=0,q=0,P=0,z="object"==typeof performance&&performance.now?performance:Date,T="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function B(){return q||(T(D),q=z.now()+P)}function D(){q=0}function L(){this._call=this._time=this._next=null}function S(t,n,e){var i=new L;return i.restart(t,n,e),i}function I(){q=(O=z.now())+P,k=A=0;try{!function(){B(),++k;for(var t,n=M;n;)(t=q-n._time)>=0&&n._call.call(null,t),n=n._next;--k}()}finally{k=0,function(){var t,n,e=M,i=1/0;for(;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:M=n);N=t,C(i)}(),q=0}}function F(){var t=z.now(),n=t-O;n>j&&(P-=n,O=t)}function C(t){k||(A&&(A=clearTimeout(A)),t-q>24?(t<1/0&&(A=setTimeout(I,t-z.now()-P)),E&&(E=clearInterval(E))):(E||(O=z.now(),E=setInterval(F,j)),k=1,T(I)))}L.prototype=S.prototype={constructor:L,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?B():+e)+(null==n?0:+n),this._next||N===this||(N?N._next=this:M=this,N=this),this._call=t,this._time=e,C()},stop:function(){this._call&&(this._call=null,this._time=1/0,C())}};function G(t){return t.x}function H(t){return t.y}var J=10,K=Math.PI*(3-Math.sqrt(5)),Q=function(){function t(){this.events={}}return t.prototype.on=function(t,n){var e=this;return"object"!=typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(n),function(){return e.removeListener(t,n)}},t.prototype.removeListener=function(t,n){if("object"==typeof this.events[t]){var e=this.events[t].indexOf(n);e>-1&&this.events[t].splice(e,1)}},t.prototype.removeAllListeners=function(){var t=this;Object.keys(this.events).forEach(function(n){return t.events[n].splice(0,t.events[n].length)})},t.prototype.emit=function(t){for(var n=this,e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];"object"==typeof this.events[t]&&this.events[t].slice().forEach(function(t){return t.apply(n,e)})},t.prototype.once=function(t,n){var e=this,i=this.on(t,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];i(),n.apply(e,t)});return i},t}(),R=function(){function t(){this.onEvent=new Q,this._nodes=[],this._links=[],this._options={}}return t.prototype.init=function(t){this._nodes=t.nodes,this._links=t.links,this._options=t.layoutOptions;var n=function(){var t,n,e,i,r=h(-30),o=1,a=1/0,u=.81;function l(i){var r,o=t.length,a=s(t,G,H).visitAfter(v);for(e=i,r=0;r<o;++r)n=t[r],a.visit(y)}function f(){if(t){var n,e,o=t.length;for(i=new Array(o),n=0;n<o;++n)e=t[n],i[e.index]=+r(e,n,t)}}function v(t){var n,e,r,o,a,s=0,u=0;if(t.length){for(r=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(s+=n.value,u+=e,r+=e*n.x,o+=e*n.y);t.x=r/u,t.y=o/u}else{(n=t).x=n.data.x,n.y=n.data.y;do{s+=i[n.data.index]}while(n=n.next)}t.value=s}function y(t,r,s,l){if(!t.value)return!0;var f=t.x-n.x,h=t.y-n.y,v=l-r,y=f*f+h*h;if(v*v/u<y)return y<a&&(0===f&&(y+=(f=c())*f),0===h&&(y+=(h=c())*h),y<o&&(y=Math.sqrt(o*y)),n.vx+=f*t.value*e/y,n.vy+=h*t.value*e/y),!0;if(!(t.length||y>=a)){(t.data!==n||t.next)&&(0===f&&(y+=(f=c())*f),0===h&&(y+=(h=c())*h),y<o&&(y=Math.sqrt(o*y)));do{t.data!==n&&(v=i[t.data.index]*e/y,n.vx+=f*v,n.vy+=h*v)}while(t=t.next)}}return l.initialize=function(n){t=n,f()},l.strength=function(t){return arguments.length?(r="function"==typeof t?t:h(+t),f(),l):r},l.distanceMin=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.distanceMax=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.theta=function(t){return arguments.length?(u=t*t,l):Math.sqrt(u)},l}();this._options.mainBody.strength&&(n=n.strength(this._options.mainBody.strength)),this._options.mainBody.distanceMin&&(n=n.distanceMin(this._options.mainBody.distanceMin)),this._options.mainBody.distanceMax&&(n=n.distanceMax(this._options.mainBody.distanceMax)),this._simulation=function(t){var n,e=1,i=.001,r=1-Math.pow(i,1/300),o=0,a=.6,s=new Map,u=S(f),l=b("tick","end");function f(){h(),l.call("tick",n),e<i&&(u.stop(),l.call("end",n))}function h(i){var u,l,f=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(e+=(o-e)*r,s.forEach(function(t){t(e)}),u=0;u<f;++u)null==(l=t[u]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return n}function c(){for(var n,e=0,i=t.length;e<i;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var r=J*Math.sqrt(e),o=e*K;n.x=r*Math.cos(o),n.y=r*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function v(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),c(),n={tick:h,restart:function(){return u.restart(f),n},stop:function(){return u.stop(),n},nodes:function(e){return arguments.length?(t=e,c(),s.forEach(v),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(i=+t,n):i},alphaDecay:function(t){return arguments.length?(r=+t,n):+r},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},force:function(t,e){return arguments.length>1?(null==e?s.delete(t):s.set(t,v(e)),n):s.get(t)},find:function(n,e,i){var r,o,a,s,u,l=0,f=t.length;for(null==i?i=1/0:i*=i,l=0;l<f;++l)(a=(r=n-(s=t[l]).x)*r+(o=e-s.y)*o)<i&&(u=s,i=a);return u},on:function(t,e){return arguments.length>1?(l.on(t,e),n):l.on(t)}}}(this._nodes).force("charge",n).force("link",function(t){var n,e,i,r,o,a=p,s=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},u=h(30),l=1;function f(i){for(var r=0,a=t.length;r<l;++r)for(var s,u,f,h,v,y,p,_=0;_<a;++_)u=(s=t[_]).source,h=(f=s.target).x+f.vx-u.x-u.vx||c(),v=f.y+f.vy-u.y-u.vy||c(),h*=y=((y=Math.sqrt(h*h+v*v))-e[_])/y*i*n[_],v*=y,f.vx-=h*(p=o[_]),f.vy-=v*p,u.vx+=h*(p=1-p),u.vy+=v*p}function v(){if(i){var s,u,l=i.length,f=t.length,h=new Map(i.map((t,n)=>[a(t,n,i),t]));for(s=0,r=new Array(l);s<f;++s)(u=t[s]).index=s,"object"!=typeof u.source&&(u.source=_(h,u.source)),"object"!=typeof u.target&&(u.target=_(h,u.target)),r[u.source.index]=(r[u.source.index]||0)+1,r[u.target.index]=(r[u.target.index]||0)+1;for(s=0,o=new Array(f);s<f;++s)u=t[s],o[s]=r[u.source.index]/(r[u.source.index]+r[u.target.index]);n=new Array(f),y(),e=new Array(f),d()}}function y(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+s(t[e],e,t)}function d(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+u(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t){i=t,v()},f.links=function(n){return arguments.length?(t=n,v(),f):t},f.id=function(t){return arguments.length?(a=t,f):a},f.iterations=function(t){return arguments.length?(l=+t,f):l},f.strength=function(t){return arguments.length?(s="function"==typeof t?t:h(+t),y(),f):s},f.distance=function(t){return arguments.length?(u="function"==typeof t?t:h(+t),d(),f):u},f}(this._links).id(function(t){return t.id}).distance(this._options.linkDistance)).force("center",function(t,n){var e;function i(){var i,r,o=e.length,a=0,s=0;for(i=0;i<o;++i)a+=(r=e[i]).x,s+=r.y;for(a=a/o-t,s=s/o-n,i=0;i<o;++i)(r=e[i]).x-=a,r.y-=s}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){e=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i}()).force("collision",function(t){var n,e,i=1,r=1;function o(){for(var t,o,u,l,f,h,p,_=n.length,d=0;d<r;++d)for(o=s(n,v,y).visitAfter(a),t=0;t<_;++t)u=n[t],h=e[u.index],p=h*h,l=u.x+u.vx,f=u.y+u.vy,o.visit(x);function x(t,n,e,r,o){var a=t.data,s=t.r,v=h+s;if(!a)return n>l+v||r<l-v||e>f+v||o<f-v;if(a.index>u.index){var y=l-a.x-a.vx,_=f-a.y-a.vy,d=y*y+_*_;d<v*v&&(0===y&&(d+=(y=c())*y),0===_&&(d+=(_=c())*_),d=(v-(d=Math.sqrt(d)))/d*i,u.vx+=(y*=d)*(v=(s*=s)/(p+s)),u.vy+=(_*=d)*v,a.vx-=y*(v=1-v),a.vy-=_*v)}}}function a(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function u(){if(n){var i,r,o=n.length;for(e=new Array(o),i=0;i<o;++i)r=n[i],e[r.index]=+t(r,i,n)}}return"function"!=typeof t&&(t=h(null==t?1:+t)),o.initialize=function(t){n=t,u()},o.iterations=function(t){return arguments.length?(r=+t,o):r},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:h(+n),u(),o):t},o}().radius(function(t){return t.size}).iterations(2)).velocityDecay(.08).stop()},t.prototype.calculate=function(){for(var t=0,n=Math.ceil(Math.log(this._simulation.alphaMin())/Math.log(1-this._simulation.alphaDecay()));t<n;++t)this.onEvent.emit("tick",t/n),this._simulation.tick();this.onEvent.emit("end",{nodes:this._nodes,links:this._links})},t.prototype.destroy=function(){this._simulation.stop(),this._simulation=null,this._links=[],this._nodes=[]},t}(),U=self,V=null;U.addEventListener("message",function(t){var n=t.data;switch(n.name){case"init":(V=new R).onEvent.on("tick",function(t){U.postMessage({type:"tick",progress:t})}),V.onEvent.on("end",function(t){U.postMessage({type:"end",d:t})}),V.init(n);break;case"calculate":V&&V.calculate();break;case"destroy":V&&(V.onEvent.removeAllListeners(),V.destroy()),V=null}});n.default=null}]);',null)}},function(t,n,e){"use strict";var r=window.URL||window.webkitURL;t.exports=function(t,n){try{try{var e;try{(e=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),e=e.getBlob()}catch(n){e=new Blob([t])}return new Worker(r.createObjectURL(e))}catch(n){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!n)throw Error("Inline worker is not supported");return new Worker(n)}}},function(t,n,e){"use strict";e.r(n);var r=e(0),i=e.n(r),o=function(){function t(){this.events={}}return t.prototype.on=function(t,n){var e=this;return"object"!=typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(n),function(){return e.removeListener(t,n)}},t.prototype.removeListener=function(t,n){if("object"==typeof this.events[t]){var e=this.events[t].indexOf(n);e>-1&&this.events[t].splice(e,1)}},t.prototype.removeAllListeners=function(){var t=this;Object.keys(this.events).forEach(function(n){return t.events[n].splice(0,t.events[n].length)})},t.prototype.emit=function(t){for(var n=this,e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];"object"==typeof this.events[t]&&this.events[t].slice().forEach(function(t){return t.apply(n,e)})},t.prototype.once=function(t,n){var e=this,r=this.on(t,function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];r(),n.apply(e,t)});return r},t}();function s(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,s,u,a,l,f,h,c,y=t._root,v={data:r},p=t._x0,_=t._y0,d=t._x1,x=t._y1;if(!y)return t._root=v,t;for(;y.length;)if((l=n>=(o=(p+d)/2))?p=o:d=o,(f=e>=(s=(_+x)/2))?_=s:x=s,i=y,!(y=y[h=f<<1|l]))return i[h]=v,t;if(u=+t._x.call(null,y.data),a=+t._y.call(null,y.data),n===u&&e===a)return v.next=y,i?i[h]=v:t._root=v,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=n>=(o=(p+d)/2))?p=o:d=o,(f=e>=(s=(_+x)/2))?_=s:x=s}while((h=f<<1|l)==(c=(a>=s)<<1|u>=o));return i[c]=y,i[h]=v,t}var u=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function a(t){return t[0]}function l(t){return t[1]}function f(t,n,e){var r=new h(null==n?a:n,null==e?l:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function h(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function c(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var y=f.prototype=h.prototype;y.copy=function(){var t,n,e=new h(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=c(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=c(n));return e},y.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return s(this.cover(n,e),n,e,t)},y.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),l=1/0,f=1/0,h=-1/0,c=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<l&&(l=r),r>h&&(h=r),i<f&&(f=i),i>c&&(c=i));if(l>h||f>c)return this;for(this.cover(l,f).cover(h,c),e=0;e<o;++e)s(this,u[e],a[e],t[e]);return this},y.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var s,u,a=i-e,l=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(s=new Array(4))[u]=l,l=s,a*=2,u){case 0:i=e+a,o=r+a;break;case 1:e=i-a,o=r+a;break;case 2:i=e+a,r=o-a;break;case 3:e=i-a,r=o-a}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},y.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},y.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},y.find=function(t,n,e){var r,i,o,s,a,l,f,h=this._x0,c=this._y0,y=this._x1,v=this._y1,p=[],_=this._root;for(_&&p.push(new u(_,h,c,y,v)),null==e?e=1/0:(h=t-e,c=n-e,y=t+e,v=n+e,e*=e);l=p.pop();)if(!(!(_=l.node)||(i=l.x0)>y||(o=l.y0)>v||(s=l.x1)<h||(a=l.y1)<c))if(_.length){var d=(i+s)/2,x=(o+a)/2;p.push(new u(_[3],d,x,s,a),new u(_[2],i,x,d,a),new u(_[1],d,o,s,x),new u(_[0],i,o,d,x)),(f=(n>=x)<<1|t>=d)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-f],p[p.length-1-f]=l)}else{var g=t-+this._x.call(null,_.data),w=n-+this._y.call(null,_.data),m=g*g+w*w;if(m<e){var M=Math.sqrt(e=m);h=t-M,c=n-M,y=t+M,v=n+M,r=_.data}}return r},y.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var n,e,r,i,o,s,u,a,l,f,h,c,y=this._root,v=this._x0,p=this._y0,_=this._x1,d=this._y1;if(!y)return this;if(y.length)for(;;){if((l=o>=(u=(v+_)/2))?v=u:_=u,(f=s>=(a=(p+d)/2))?p=a:d=a,n=y,!(y=y[h=f<<1|l]))return this;if(!y.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(e=n,c=h)}for(;y.data!==t;)if(r=y,!(y=y.next))return this;return(i=y.next)&&delete y.next,r?(i?r.next=i:delete r.next,this):n?(i?n[h]=i:delete n[h],(y=n[0]||n[1]||n[2]||n[3])&&y===(n[3]||n[2]||n[1]||n[0])&&!y.length&&(e?e[c]=y:this._root=y),this):(this._root=i,this)},y.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},y.root=function(){return this._root},y.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},y.visit=function(t){var n,e,r,i,o,s,a=[],l=this._root;for(l&&a.push(new u(l,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(l=n.node,r=n.x0,i=n.y0,o=n.x1,s=n.y1)&&l.length){var f=(r+o)/2,h=(i+s)/2;(e=l[3])&&a.push(new u(e,f,h,o,s)),(e=l[2])&&a.push(new u(e,r,h,f,s)),(e=l[1])&&a.push(new u(e,f,i,o,h)),(e=l[0])&&a.push(new u(e,r,i,f,h))}return this},y.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new u(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,s=n.x0,a=n.y0,l=n.x1,f=n.y1,h=(s+l)/2,c=(a+f)/2;(o=i[0])&&e.push(new u(o,s,a,h,c)),(o=i[1])&&e.push(new u(o,h,a,l,c)),(o=i[2])&&e.push(new u(o,s,c,h,f)),(o=i[3])&&e.push(new u(o,h,c,l,f))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},y.x=function(t){return arguments.length?(this._x=t,this):this._x},y.y=function(t){return arguments.length?(this._y=t,this):this._y};var v=function(t){return function(){return t}},p=function(){return 1e-6*(Math.random()-.5)};function _(t){return t.x+t.vx}function d(t){return t.y+t.vy}function x(t){return t.index}function g(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var w={value:function(){}};function m(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new M(r)}function M(t){this._=t}function k(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function b(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=w,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}M.prototype=m.prototype={constructor:M,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),s=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++s<u;)if(e=(t=o[s]).type)i[e]=b(i[e],t.name,n);else if(null==n)for(e in i)i[e]=b(i[e],t.name,null);return this}for(;++s<u;)if((e=(t=o[s]).type)&&(e=k(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new M(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var N,A,E=m,O=0,j=0,q=0,B=1e3,P=0,z=0,L=0,T="object"==typeof performance&&performance.now?performance:Date,D="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function S(){return z||(D(I),z=T.now()+L)}function I(){z=0}function V(){this._call=this._time=this._next=null}function W(t,n,e){var r=new V;return r.restart(t,n,e),r}function U(){z=(P=T.now())+L,O=j=0;try{!function(){S(),++O;for(var t,n=N;n;)(t=z-n._time)>=0&&n._call.call(null,t),n=n._next;--O}()}finally{O=0,function(){var t,n,e=N,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:N=n);A=t,R(r)}(),z=0}}function F(){var t=T.now(),n=t-P;n>B&&(L-=n,P=t)}function R(t){O||(j&&(j=clearTimeout(j)),t-z>24?(t<1/0&&(j=setTimeout(U,t-T.now()-L)),q&&(q=clearInterval(q))):(q||(P=T.now(),q=setInterval(F,B)),O=1,D(U)))}V.prototype=W.prototype={constructor:V,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?S():+e)+(null==n?0:+n),this._next||A===this||(A?A._next=this:N=this,A=this),this._call=t,this._time=e,R()},stop:function(){this._call&&(this._call=null,this._time=1/0,R())}};function C(t){return t.x}function K(t){return t.y}var G=10,H=Math.PI*(3-Math.sqrt(5)),J=function(){function t(){this.onEvent=new o,this._nodes=[],this._links=[],this._options={}}return t.prototype.init=function(t){this._nodes=t.nodes,this._links=t.links,this._options=t.layoutOptions;var n=function(){var t,n,e,r,i=v(-30),o=1,s=1/0,u=.81;function a(r){var i,o=t.length,s=f(t,C,K).visitAfter(h);for(e=r,i=0;i<o;++i)n=t[i],s.visit(c)}function l(){if(t){var n,e,o=t.length;for(r=new Array(o),n=0;n<o;++n)e=t[n],r[e.index]=+i(e,n,t)}}function h(t){var n,e,i,o,s,u=0,a=0;if(t.length){for(i=o=s=0;s<4;++s)(n=t[s])&&(e=Math.abs(n.value))&&(u+=n.value,a+=e,i+=e*n.x,o+=e*n.y);t.x=i/a,t.y=o/a}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=r[n.data.index]}while(n=n.next)}t.value=u}function c(t,i,a,l){if(!t.value)return!0;var f=t.x-n.x,h=t.y-n.y,c=l-i,y=f*f+h*h;if(c*c/u<y)return y<s&&(0===f&&(y+=(f=p())*f),0===h&&(y+=(h=p())*h),y<o&&(y=Math.sqrt(o*y)),n.vx+=f*t.value*e/y,n.vy+=h*t.value*e/y),!0;if(!(t.length||y>=s)){(t.data!==n||t.next)&&(0===f&&(y+=(f=p())*f),0===h&&(y+=(h=p())*h),y<o&&(y=Math.sqrt(o*y)));do{t.data!==n&&(c=r[t.data.index]*e/y,n.vx+=f*c,n.vy+=h*c)}while(t=t.next)}}return a.initialize=function(n){t=n,l()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:v(+t),l(),a):i},a.distanceMin=function(t){return arguments.length?(o=t*t,a):Math.sqrt(o)},a.distanceMax=function(t){return arguments.length?(s=t*t,a):Math.sqrt(s)},a.theta=function(t){return arguments.length?(u=t*t,a):Math.sqrt(u)},a}();this._options.mainBody.strength&&(n=n.strength(this._options.mainBody.strength)),this._options.mainBody.distanceMin&&(n=n.distanceMin(this._options.mainBody.distanceMin)),this._options.mainBody.distanceMax&&(n=n.distanceMax(this._options.mainBody.distanceMax)),this._simulation=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,u=new Map,a=W(f),l=E("tick","end");function f(){h(),l.call("tick",n),e<r&&(a.stop(),l.call("end",n))}function h(r){var a,l,f=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(e+=(o-e)*i,u.forEach(function(t){t(e)}),a=0;a<f;++a)null==(l=t[a]).fx?l.x+=l.vx*=s:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=s:(l.y=l.fy,l.vy=0);return n}function c(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=G*Math.sqrt(e),o=e*H;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function y(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),c(),n={tick:h,restart:function(){return a.restart(f),n},stop:function(){return a.stop(),n},nodes:function(e){return arguments.length?(t=e,c(),u.forEach(y),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(s=1-t,n):1-s},force:function(t,e){return arguments.length>1?(null==e?u.delete(t):u.set(t,y(e)),n):u.get(t)},find:function(n,e,r){var i,o,s,u,a,l=0,f=t.length;for(null==r?r=1/0:r*=r,l=0;l<f;++l)(s=(i=n-(u=t[l]).x)*i+(o=e-u.y)*o)<r&&(a=u,r=s);return a},on:function(t,e){return arguments.length>1?(l.on(t,e),n):l.on(t)}}}(this._nodes).force("charge",n).force("link",function(t){var n,e,r,i,o,s=x,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},a=v(30),l=1;function f(r){for(var i=0,s=t.length;i<l;++i)for(var u,a,f,h,c,y,v,_=0;_<s;++_)a=(u=t[_]).source,h=(f=u.target).x+f.vx-a.x-a.vx||p(),c=f.y+f.vy-a.y-a.vy||p(),h*=y=((y=Math.sqrt(h*h+c*c))-e[_])/y*r*n[_],c*=y,f.vx-=h*(v=o[_]),f.vy-=c*v,a.vx+=h*(v=1-v),a.vy+=c*v}function h(){if(r){var u,a,l=r.length,f=t.length,h=new Map(r.map((t,n)=>[s(t,n,r),t]));for(u=0,i=new Array(l);u<f;++u)(a=t[u]).index=u,"object"!=typeof a.source&&(a.source=g(h,a.source)),"object"!=typeof a.target&&(a.target=g(h,a.target)),i[a.source.index]=(i[a.source.index]||0)+1,i[a.target.index]=(i[a.target.index]||0)+1;for(u=0,o=new Array(f);u<f;++u)a=t[u],o[u]=i[a.source.index]/(i[a.source.index]+i[a.target.index]);n=new Array(f),c(),e=new Array(f),y()}}function c(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}function y(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+a(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t){r=t,h()},f.links=function(n){return arguments.length?(t=n,h(),f):t},f.id=function(t){return arguments.length?(s=t,f):s},f.iterations=function(t){return arguments.length?(l=+t,f):l},f.strength=function(t){return arguments.length?(u="function"==typeof t?t:v(+t),c(),f):u},f.distance=function(t){return arguments.length?(a="function"==typeof t?t:v(+t),y(),f):a},f}(this._links).id(function(t){return t.id}).distance(this._options.linkDistance)).force("center",function(t,n){var e;function r(){var r,i,o=e.length,s=0,u=0;for(r=0;r<o;++r)s+=(i=e[r]).x,u+=i.y;for(s=s/o-t,u=u/o-n,r=0;r<o;++r)(i=e[r]).x-=s,i.y-=u}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r}()).force("collision",function(t){var n,e,r=1,i=1;function o(){for(var t,o,u,a,l,h,c,y=n.length,v=0;v<i;++v)for(o=f(n,_,d).visitAfter(s),t=0;t<y;++t)u=n[t],h=e[u.index],c=h*h,a=u.x+u.vx,l=u.y+u.vy,o.visit(x);function x(t,n,e,i,o){var s=t.data,f=t.r,y=h+f;if(!s)return n>a+y||i<a-y||e>l+y||o<l-y;if(s.index>u.index){var v=a-s.x-s.vx,_=l-s.y-s.vy,d=v*v+_*_;d<y*y&&(0===v&&(d+=(v=p())*v),0===_&&(d+=(_=p())*_),d=(y-(d=Math.sqrt(d)))/d*r,u.vx+=(v*=d)*(y=(f*=f)/(c+f)),u.vy+=(_*=d)*y,s.vx-=v*(y=1-y),s.vy-=_*y)}}}function s(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function u(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=v(null==t?1:+t)),o.initialize=function(t){n=t,u()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:v(+n),u(),o):t},o}().radius(function(t){return t.size}).iterations(2)).velocityDecay(.08).stop()},t.prototype.calculate=function(){for(var t=0,n=Math.ceil(Math.log(this._simulation.alphaMin())/Math.log(1-this._simulation.alphaDecay()));t<n;++t)this.onEvent.emit("tick",t/n),this._simulation.tick();this.onEvent.emit("end",{nodes:this._nodes,links:this._links})},t.prototype.destroy=function(){this._simulation.stop(),this._simulation=null,this._links=[],this._nodes=[]},t}(),Q={layoutOptions:{linkDistance:300,mainBody:{distanceMin:1,strength:-1e3}},useWebworker:!0},X=function(){return(X=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},Y=function(){function t(t){this.onEvent=new o,this._options=X({},Q,t),this._options.useWorker?this._worker=new i.a:this._layout=new J}return t.prototype.init=function(t){var n=this;this._options.useWorker&&this._worker?(this._worker.postMessage({height:t.height||0,layoutOptions:this._options.layoutOptions,links:t.links||[],name:"init",nodes:t.nodes||[],width:t.width||0}),this._worker.onmessage=function(t){switch(t.data.type){case"tick":n.onEvent.emit("tick",t.data.progress);break;case"end":n.onEvent.emit("end",t.data.d)}}):this._layout&&(this._layout.init({height:t.height||0,layoutOptions:this._options.layoutOptions,links:t.links||[],nodes:t.nodes||[],width:t.width||0}),this._layout.onEvent.on("tick",function(t){n.onEvent.emit("tick",t)}),this._layout.onEvent.on("end",function(t){n.onEvent.emit("end",t)}))},t.prototype.calculate=function(){this._options.useWorker&&this._worker?this._worker.postMessage({name:"calculate"}):this._layout&&this._layout.calculate()},t.prototype.destroy=function(){this._options.useWorker&&this._worker?(this._worker.postMessage({name:"destroy"}),this._worker.terminate(),this._worker=null):(this._layout&&(this._layout.onEvent.removeAllListeners(),this._layout.destroy()),this._layout=null)},t}();e.d(n,"D3Layout",function(){return Y})}])});